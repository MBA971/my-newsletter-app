<!DOCTYPE html>
<html>
<head>
    <title>JWT Token Decoder</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        textarea { width: 100%; height: 100px; }
        pre { background: #f5f5f5; padding: 10px; overflow-x: auto; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>JWT Token Decoder</h1>
    <textarea id="jwtInput" placeholder="Paste your JWT token here"></textarea>
    <br><br>
    <button onclick="decodeJWT()">Decode JWT</button>
    <br><br>
    <h2>Decoded Header:</h2>
    <pre id="headerOutput">-</pre>
    <h2>Decoded Payload:</h2>
    <pre id="payloadOutput">-</pre>
    <h2>Signature:</h2>
    <pre id="signatureOutput">-</pre>

    <script>
        function base64UrlDecode(str) {
            // Replace URL-safe characters
            str = str.replace(/-/g, '+').replace(/_/g, '/');
            // Add padding if needed
            while (str.length % 4) {
                str += '=';
            }
            // Decode
            return atob(str);
        }

        function decodeJWT() {
            const jwt = document.getElementById('jwtInput').value.trim();
            if (!jwt) {
                alert('Please enter a JWT token');
                return;
            }

            const parts = jwt.split('.');
            if (parts.length !== 3) {
                alert('Invalid JWT token format');
                return;
            }

            try {
                // Decode header
                const header = JSON.parse(base64UrlDecode(parts[0]));
                document.getElementById('headerOutput').textContent = JSON.stringify(header, null, 2);

                // Decode payload
                const payload = JSON.parse(base64UrlDecode(parts[1]));
                document.getElementById('payloadOutput').textContent = JSON.stringify(payload, null, 2);

                // Signature (just display as-is)
                document.getElementById('signatureOutput').textContent = parts[2];
            } catch (error) {
                alert('Error decoding JWT: ' + error.message);
            }
        }
    </script>
</body>
</html>